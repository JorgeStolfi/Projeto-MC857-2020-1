RA 169601

Tarefa: acrescentar campos obrigatórios 'dia_min' e 'dia_max' no formulário de buscar roteiros. Fazer funcionar.

Primeiro descobri que na verdade o formulário de buscar roteiro é, na verdade, gerado pelo módulo {html_form_criar_roteiro}. Ao tentar acessar esse formulário pelo site, percebi que há um erro na lógica de acesso pois ele só é acessível se o usuário logado for um administrador.

Em todo caso, precisei logar com o usuário Juca terceiro e consegui acessar o formulário.

Para adicionar os campos {dia_min} e {dia_max}, apenas copiei as linhas que adicionavam o campo {origem} e alterei o texto do rótulo do campo e os parâmetros da chamada {html_input.gera()}. Passei o valor "date" como o parâmetro {tipo} (para que o navegador mostre um calendário para o usuário selecionar a data que quiser para o campo).

Com esses dois campos novos, ao submeter o formulário fui redirecionado para uma página que mostrava um roteiro que não condizia com a minha busca. Para entender se o comportamento era resultado das minhas alterações, abri o código do módulo {roteiro} e vi que a função {descobre_todos} do módulo possui um comentário "# !!! Fajuto para testes !!!". Ou seja, o formulário de criar um roteiro está funcionando e só o módulo {roteiro} precisa ser arrumado agora.
