Nesse dia a minha tarefa era fazer o botão "Ver" na página de sugestão de roteiros funcionar.

Observando o comportamento da página, identifiquei que o evento de onclick do botão "Ver" não estava com a
informação correta. Estava apenas location.href='ver_roteiro' e portanto não estava passando os IDs dos trechos
necessários para ver esse roteiro.

Investigando o problema, identifiquei no arquivo {html_botao_simples_IMP} (linha 16) que a Regex usada para verificar
os argumentos a serem adicionados na URL do botão não estava contando o caracter ',' (vírgula) como um caracter
válido e, portanto, não estava conseguindo adicionar a parte "?ids_trechos={ID_TRECHO},{ID_TRECHO},{ID_TRECHO}".

Uma busca pela internet mostrou que não tem nenhum problema em aceitar o caracter ',' nos argumentos de uma URL, inclusive ele
não precisa nem ser url-encoded (não precisa ser representado como %2C).
Com isso em mente, alterei a Regex para permitir esse caso e o botão passou a funcionar como esperado.

Olhando o teste comando_sugerir_roteiros_TST notei que ele não estava gerando o HTML de teste na saída, provavelmente por
conta disso que o problema não foi identificado antes. Então, alterei o teste para que a página fosse gerada e agora é
possível ver que o evento do botão é populado corretamente.

Adicionei o caso de val com vírgulas no teste html_botao_simples_TST e o comportamento dele segue como esperado.