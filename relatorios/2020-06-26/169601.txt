Relatório RA 169601

Tarefa 2020-06-26: botão "Buscar trechos": quando clica em "Ver" deve haver uma lista de poltronas com botão de "Comprar" se estiver livre.

Para entender o que o botão "Comprar" deveria fazer, comecei olhando as definições dos módulos a partir do {comando_buscar_trechos} até chegar no módulo {html_resumo_de_poltrona_de_trecho}, que implementa a lógica de se o botão "Comprar" deve aparecer na linha de listagem de uma poltrona ou não.

Comecei a ver quais módulos chamavam o {html_resumo_de_poltrona_de_trecho} para saber qual é o responsável por passar o parâmetro {comprar} que ele usa para decidir de o botão irá aparecer ou não até que cheguei no módulo {comando_ver_trecho}. Ele faz a chamada para o módulo {html_pag_ver_trecho} passando o parâmetro {comprar} como {False} e, dali para frente, esse parâmetro é só passado a diante até chegar no {html_resumo_de_poltrona_de_trecho}.

Tentei mudar o parâmetro {comprar} que {comando_ver_trecho} passa para {html_pag_ver_trecho} de {False} para {True}, mas isso fez com que o botão "Alterar" fosse exibido nas linhas das poltronas, não o botão "Comprar".

Revisei todas as definições dos módulos que levam o parâmetro {comprar} de {comando_ver_trecho} até {html_resumo_de_poltrona_de_trecho} e vi que o módulo {html_resumo_de_poltrona_de_trecho} estava com os parâmetros {comprar} e {alterar} invertidos na sua interface. Troquei a ordem dos parâmetros e o botão "Comprar" passou a ser exibido apenas nas linhas das poltronas livres como esperado.

O botão "Comprar", não realiza nenhuma ação, mas assumi que isso não faz parte da tarefa uma vez que só a exibição do botão estava contemplada.
